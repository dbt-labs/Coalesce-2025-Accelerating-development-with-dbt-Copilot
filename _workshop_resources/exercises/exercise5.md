# Exercise 5 - Troubleshooting macros

1. Open `analyses/compile_complex_nested_macro.sql`
2. Click Compile and review result against expected result in the comment block.
3. Open `macros/complex_nested_logic.sql`
4. Open dbt Copilot SQL window
5. Enter prompt <ul>This macro is not returning the expected result, what are some potential problems?</ul>
6. Use the provided response to edit the macro code and save.
7. Return to `compile_complex_nested_macro.sql`
8. Compile to see if your results match the expected result in the comment block.
